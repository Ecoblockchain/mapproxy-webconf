%def content():
  <div class="span5">
    %for name, data in projects.items():
      <div>
        <h3>${ __('project') }: ${name}</h3>
        <h4>${ __('settings') }</h4>
        <div class="pull-left" tooltip="t1" tooltip-placement="left">
          <a href="${ get_url('project_index', project=name) }" class="btn btn-small">${ __('Goto default settings') }</a>
        </div>
        <div class="pull-right" tooltip="t2" tooltip-placement="top">
          <a href="${ get_url('configuration', project=name) }" class="btn btn-small">${ __('To configuration') } &rarr;</a>
        </div>
        <div style="clear:both"></div>
        <hr>
        <h4>${ __('status mapproxy configuration') }</h4>
        %if data['valid']:
          <div class="alert alert-block alert-success ">
            <h4 class="alert-heading">
              ${ __('The mapproxy configuration of this project is valid') }
            </h4>
          </div>
        %else:
          <div class="alert alert-block alert-error ">
            <h4 class"alert-heading" style="margin-bottom: 10px">
              ${ __('Attention') }:
              ${ __('The mapproxy configuration of this project is invalid') }
            </h4>
            <p style="margin-bottom: 10px">${ __('following errors are recorded') }:</p>
            <ul>
              %for msg in data['errors']:
                <li>${msg}</li>
              %end
            </ul>
          </div>
        %end
      </div>
    %end
  </div>
% end

%def site_navbar():
  <h2 class="pull-left tab-menu-header">
    ${ __('project overview') }
  </h2>
% end

%rebase base content=content, site_navbar=site_navbar, language=get('language')