%def leftblock():
    <h3>Services</h3>
    <div ng-controller="MapproxyServicesChooserCtrl">
        <ul class="vertical-list">
            <hr>
            <div class="{{getClasses(service)}}"
                ng-repeat="(service, data) in services"
                ng-click="show(service)"
                ng-hide="service=='_id'">
                <li href="#">{{service}}</a>
            </li>
            <hr>
        </ul>
    </div>
%end

%def middleblock():
    <script type="text/ng-template"  id="wms.html">
        <h3>WMS</h3>
        <div labeled="checkbox_label" name-for="services_form.wms_active" text="Active">
            <input type="checkbox" ng-model="services.wms.active" id="services_form.wms_active">
        </div>
        <div labeled="input_label" name-for="services_form.wms_title" text="Title">
            <input type="text" ng-model="services.wms.md.title" id="services_form.wms_title">
        </div>
        <div labeled="input_label" name-for="services_form.wms_srs" text="SRS">
             <select id="services_form.wms_srs" multiple="multiple" ng-model="services.wms.srs">
                 <option value="EPSG:3857">EPSG:3857</option>
                 <option value="EPSG:4326">EPSG:4326</option>
                 <option value="EPSG:900913">EPSG:900913</option>
             </select>
         </div>
    </script>
    <script type="text/ng-template"  id="tms.html">
        <h3>TMS</h3>
        <div labeled="checkbox_label" name-for="services_form.tms_active" text="Active">
            <input type="checkbox" ng-model="services.tms.active" id="services_form.tms_active">
        </div>
    </script>
    <script type="text/ng-template"  id="wmts.html">
        <h3>WMTS</h3>
        <div labeled="checkbox_label" name-for="services_form.wmts_active" text="Active">
            <input type="checkbox" ng-model="services.wmts.active" id="services_form.wmts_active">
        </div>
    </script>
    <script type="text/ng-template"  id="kml.html">
        <h3>KML</h3>
        <div labeled="checkbox_label" name-for="services_form.kml_active" text="Active">
            <input type="checkbox" ng-model="services.kml.active" id="services_form.kml_active">
        </div>
    </script>
    <script type="text/ng-template"  id="demo.html">
        <h3>Demo</h3>
        <div labeled="checkbox_label" name-for="services_form.demo_active" text="Active">
            <input type="checkbox" ng-model="services.demo.active" id="services_form.demo_active">
        </div>
    </script>
    <div ng-controller="MapproxyServicesCtrl">
        <form name="services_form">
            <div ng-include src="template"></div>
            <button class="btn pull-right" ng-click="save($event)" ng-disabled="!services_form.$valid">Save</button>
        </form>
    </div>
%end

%def rightblock():
&nbsp;
%end

%rebase base_config leftblock=leftblock, middleblock=middleblock, rightblock=rightblock, project=get('project'),  active='services'